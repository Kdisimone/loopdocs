<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Updating/Rebuilding your Loop - LoopDocs</title>
        <link href="../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/docco.min.css">
        <link href="../../stylesheets/admonitions.css" rel="stylesheet">
        <link href="../../stylesheets/extra.css" rel="stylesheet">

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../..">LoopDocs</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Build App <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../step1/" class="dropdown-item">Step 1 Compatible Computer</a>
</li>
                                    
<li>
    <a href="../step2/" class="dropdown-item">Step 2 Compatible iPhone/iPod touch</a>
</li>
                                    
<li>
    <a href="../step3/" class="dropdown-item">Step 3 Compatible Pump</a>
</li>
                                    
<li>
    <a href="../step4/" class="dropdown-item">Step 4 Compatible CGM</a>
</li>
                                    
<li>
    <a href="../step5/" class="dropdown-item">Step 5 Order a RileyLink</a>
</li>
                                    
<li>
    <a href="../step6/" class="dropdown-item">Step 6 Enroll in Apple Developer Program</a>
</li>
                                    
<li>
    <a href="../step8/" class="dropdown-item">Step 8 Download Xcode</a>
</li>
                                    
<li>
    <a href="../step9/" class="dropdown-item">Step 9 Xcode Preferences</a>
</li>
                                    
<li>
    <a href="../step10/" class="dropdown-item">Step 10 Test Settings</a>
</li>
                                    
<li>
    <a href="../step11/" class="dropdown-item">Step 11 Make plans for Loop Data</a>
</li>
                                    
<li>
    <a href="../step12/" class="dropdown-item">Step 12 Meet Community</a>
</li>
                                    
<li>
    <a href="../step13/" class="dropdown-item">Step 13 Download Loop code</a>
</li>
                                    
<li>
    <a href="../step14/" class="dropdown-item">Step 14 Build Loop app</a>
</li>
                                    
<li>
    <a href="../build_errors/" class="dropdown-item">Oh dear! Build errors?</a>
</li>
                                    
<li>
    <a href="../code_customization/" class="dropdown-item">Customize your Loop</a>
</li>
                                    
<li>
    <a href="./" class="dropdown-item active">Updating/Rebuilding your Loop</a>
</li>
                                    
<li>
    <a href="../loopworkspace/" class="dropdown-item">LoopWorkspace</a>
</li>
                                    
<li>
    <a href="../step7/" class="dropdown-item">Step 7 Skip Step 7</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Set up App <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../operation/overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../health/" class="dropdown-item">Step 1: Health Permissions</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Step 2: Add Pump</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../operation/loop-settings/mdt-pump/" class="dropdown-item">Add Medtronic</a>
</li>
            
<li>
    <a href="../../operation/loop-settings/omnipod-pump/" class="dropdown-item">Add Omnipod</a>
</li>
    </ul>
  </li>
                                    
<li>
    <a href="../../operation/loop-settings/cgm/" class="dropdown-item">Step 3: Add CGM</a>
</li>
                                    
<li>
    <a href="../../operation/loop-settings/configurations/" class="dropdown-item">Step 4: Configurations</a>
</li>
                                    
<li>
    <a href="../../operation/loop-settings/services/" class="dropdown-item">Step 5: Loop Services</a>
</li>
                                    
<li>
    <a href="../../operation/loop-settings/displays/" class="dropdown-item">Loop Displays</a>
</li>
                                    
<li>
    <a href="../../operation/loop-settings/rileylink/" class="dropdown-item">RileyLink Display</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Operate <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../operation/features/carbs/" class="dropdown-item">Meal Entries</a>
</li>
                                    
<li>
    <a href="../../operation/features/bolus/" class="dropdown-item">Bolus</a>
</li>
                                    
<li>
    <a href="../../operation/features/workout/" class="dropdown-item">Overrides</a>
</li>
                                    
<li>
    <a href="../../operation/loop-settings/pump-commands/" class="dropdown-item">Pump Settings</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">How to Use Loop App</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../operation/features/premeal/" class="dropdown-item">Pre-meal target</a>
</li>
            
<li>
    <a href="../../operation/features/healthapp/" class="dropdown-item">Health app</a>
</li>
            
<li>
    <a href="../../operation/features/ice/" class="dropdown-item">Using ICE info</a>
</li>
            
<li>
    <a href="../../operation/features/watch/" class="dropdown-item">Apple Watch</a>
</li>
            
<li>
    <a href="../../operation/features/widget/" class="dropdown-item">iPhone widget</a>
</li>
            
<li>
    <a href="../../operation/features/notifications/" class="dropdown-item">Loop Notifications</a>
</li>
            
<li>
    <a href="../../operation/features/battery/" class="dropdown-item">Pump Battery</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Looping Tips</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../operation/loop/open-loop/" class="dropdown-item">Open Loop</a>
</li>
            
<li>
    <a href="../../operation/loop/close-loop/" class="dropdown-item">Closed Loop</a>
</li>
            
<li>
    <a href="../../operation/loop/looptips/" class="dropdown-item">Loop Tips</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Algorithm</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../operation/algorithm/overview/" class="dropdown-item">Overview</a>
</li>
            
<li>
    <a href="../../operation/algorithm/bolus/" class="dropdown-item">Bolus Recommendations</a>
</li>
            
<li>
    <a href="../../operation/algorithm/prediction/" class="dropdown-item">Glucose Prediction</a>
</li>
            
<li>
    <a href="../../operation/algorithm/temp-basal/" class="dropdown-item">Temp Basal Adjustments</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Troubleshoot</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../troubleshooting/overview/" class="dropdown-item">Overview</a>
</li>
            
<li>
    <a href="../../troubleshooting/loop-crashing/" class="dropdown-item">Loop App crashes</a>
</li>
            
<li>
    <a href="../../troubleshooting/yellow-red-loop/" class="dropdown-item">Red Loop</a>
</li>
            
<li>
    <a href="../../troubleshooting/pod-pairing/" class="dropdown-item">Pod Pairing Failures</a>
</li>
            
<li>
    <a href="../../troubleshooting/time-change/" class="dropdown-item">Time Changes</a>
</li>
            
<li>
    <a href="../../troubleshooting/pump-errors/" class="dropdown-item">MDT Pump Errors</a>
</li>
            
<li>
    <a href="../../troubleshooting/omnipod-faults/" class="dropdown-item">Omnipod Faults</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Nightscout <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../nightscout/overview/" class="dropdown-item">Overview</a>
</li>
                                    
<li>
    <a href="../../nightscout/new_user/" class="dropdown-item">Brand New NS</a>
</li>
                                    
<li>
    <a href="../../nightscout/update_user/" class="dropdown-item">Retrofit Existing NS</a>
</li>
                                    
<li>
    <a href="../../nightscout/troublehoot/" class="dropdown-item">Setup Troubleshooting</a>
</li>
                                    
<li>
    <a href="../../nightscout/remote-overrides/" class="dropdown-item">Remote Overrides</a>
</li>
                                    
<li>
    <a href="../../nightscout/ns_crossref/" class="dropdown-item">Nightscout Cross Ref</a>
</li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">FAQs <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../faqs/docs-faqs/" class="dropdown-item">Using This Site FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/FAQs/" class="dropdown-item">General Loop FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/omnipod-faqs/" class="dropdown-item">Omnipod FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/branch-faqs/" class="dropdown-item">Branch FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/dev-menus/" class="dropdown-item">Loop dev Preview</a>
</li>
                                    
<li>
    <a href="../../faqs/update-faqs/" class="dropdown-item">Update/Rebuild Loop FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/rileylink-faqs/" class="dropdown-item">RileyLink FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/algorithm-faqs/" class="dropdown-item">Algorithm FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/cgm-faqs/" class="dropdown-item">CGM FAQs</a>
</li>
                                    
<li>
    <a href="../../faqs/safety-faqs/" class="dropdown-item">Safety Tips</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../code_customization/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../loopworkspace/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#updating-loop" class="nav-link">Updating Loop</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#when-to-update-loop" class="nav-link">When to Update Loop</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-1-install-macos-and-xcode-updates" class="nav-link">Step 1: Install macOS and Xcode updates</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-2-check-your-developer-account" class="nav-link">Step 2: Check your Developer Account</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-3-download-updated-loop-code" class="nav-link">Step 3: Download Updated Loop Code</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-4a-delete-old-provisioning-profiles" class="nav-link">Step 4a: Delete old provisioning profiles</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-4b-clean-cache-and-derived-data" class="nav-link">Step 4b: Clean cache and derived data</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-5-build-like-normal" class="nav-link">Step 5: Build like normal</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#step-6-resolve-build-errors-if-needed" class="nav-link">Step 6: Resolve Build Errors if needed</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="updating-loop">Updating Loop<a class="headerlink" href="#updating-loop" title="Permanent link">⌁</a></h1>
<div class="admonition green">
<p class="admonition-title">Time Estimate</p>
<ul>
<li>25 minutes, if already have updates done</li>
<li>40-90 minutes, if need to install Apple update(s)</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Summary</p>
<ol>
<li>Install macOS and Xcode updates based on your phone iOS</li>
<li>Check your Developer Account</li>
<li>Download Updated Loop code</li>
<li>Recommended Actions<br />
    a. Delete old provisioning profiles<br/>
    b. Clean cache and derived data<br/></li>
<li>Build like normal</li>
<li>Resolve Build Errors if needed</li>
</ol>
</div>
<div class="admonition faqs">
<p class="admonition-title">FAQs</p>
<ul>
<li><strong>"What is an update?"</strong> Anytime you want to change branches, add or change a customizations, or grab updates to the same branch you built before...that is an <strong>update</strong> of your Loop app.</li>
<li><strong>"Do I delete my old Loop app first?"</strong> Definitely <strong>not</strong>! If you keep your Loop app on your phone, your Loop settings (and existing pod) will continue to work the same after the update. Seamless.</li>
<li><strong>"Do I need to start a new pod when I update?"</strong> No. Your existing pod session will continue seamlessly if you are using the same Developer Account to sign the Loop app targets as you did the last time you built.</li>
<li><strong>"What if I'm using a new/different developer account?"</strong> If you aren't building with the same developer account used when your existing app was built (this includes going from free to paid), then you will be installing a brand new (second) Loop app on your phone. Your existing pod won't work with the new app, so you might want to time this transition when you are due to change pods. Delete the old app once you get the new one all set up.</li>
<li><strong>"What if it is a new computer but the same developer account?"</strong> No big deal...repeat Build Steps 1, 8 and 9 with your new computer.</li>
</ul>
</div>
<h2 id="when-to-update-loop">When to Update Loop<a class="headerlink" href="#when-to-update-loop" title="Permanent link">⌁</a></h2>
<p>Under ordinary circumstances, you do not <em>have to</em> update your Loop app until you are ready to grab new features. However, we encourage regular updates when a new version is released because they often contain bug fixes or improvements which may increase operational stability. Also, if you have updated your phone iOS since the last build, you should download a new copy of the code and you might also need to update the Mac operating system and the version of Xcode to support that phone iOS.</p>
<p>Refer to <a href="../../faqs/branch-faqs/#loop-releases">Loop Releases</a> for information about current and previous Loop versions.</p>
<p>The apps built and signed by you in Xcode with a paid developer account will only last for 12 months before they expire and need rebuilding. So, at least once per year you will have to rebuild your app and go through this update process. If you do not update and the "provisioning profile" on your phone expires, you will see this message:</p>
<h3 id="loop-is-no-longer-available">"Loop" is No Longer Available<a class="headerlink" href="#loop-is-no-longer-available" title="Permanent link">⌁</a></h3>
<p>When you see "Loop" is No Longer Available on your phone, the only solution is to rebuild the app.  All of your settings are still present on your phone, but your "provisioning profile" expired and you need to generate a new one. Once you build Loop on your phone, following the instructions on this page, all your settings will be maintained - assuming you build with the same <a href="../../faqs/FAQs/#what-happens-when-i-switch-apple-developer-id">Apple Developers ID</a> that was used initially.</p>
<h2 id="step-1-install-macos-and-xcode-updates">Step 1: Install macOS and Xcode updates<a class="headerlink" href="#step-1-install-macos-and-xcode-updates" title="Permanent link">⌁</a></h2>
<div class="admonition warning">
<p class="admonition-title">Verify macOS</p>
<p>Between Loop app builds, there's a high likelihood that Apple has updated one or more of the systems involved in your Loop app. If you don't have the minimum macOS, you cannot build on that phone. (Note, the current macOS will build the Loop app for all these iOS versions.)</p>
<ul>
<li>For iOS 14.5 and higher, minimum is macOS 11.x (Big Sur)</li>
<li>For iOS 14.0 to 14.4.x, minimum is macOS 10.15.4 (Catalina)</li>
<li>For iOS 13.4 through 13.7, minimum is macOS 10.15.2 (Catalina)</li>
<li>For iOS 13.0 through 13.2, minimum is macOS 10.14.4 (Mojave)</li>
<li>For iOS 12.4, minimum is macOS 10.14.3 (Mojave)</li>
</ul>
</div>
<div class="admonition green">
<p class="admonition-title">Verify Xcode</p>
<p>Now that you have updated your macOS, you should have the ability to see the most recent version of Xcode. The information for which Xcode is required is found in <a href="../step8/#how-do-all-the-minimum-versions-relate-to-each-other">Build Step 8</a>.  (It's not repeated because that way we only have to update it on one page.  In the time of rapid iOS changes, that's the best way to keep the information accurate.)</p>
<p>If you see that you need to update (and you probably do), then keep following instruction on that page and the next one (Build Step 9) and then return to this page.</p>
</div>
<div class="admonition info">
<p class="admonition-title">Follow Build Step 9 after updating Xcode<p>Make sure to restart your computer after updating Xcode and follow the instructions in Build Step 9. There's a known issue that happens often enough to be frustrating if you skip those steps. Either a build error about missing simulators or a "device not connected" (even when phone is connected). It's not always required...but this is a good easy ounce of problem prevention.</p>
</p>
</div>
<p>If you think you are immune from needing to update and want to skip Step 1 on this page, at least review the compatibility chart in Build Step 8 to make sure your macOS and Xcode meet their minimums based on your device's iOS before proceeding.  Many people try to build without meeting the minimum versions - don't be that person.</p>
<h2 id="step-2-check-your-developer-account">Step 2: Check your Developer Account<a class="headerlink" href="#step-2-check-your-developer-account" title="Permanent link">⌁</a></h2>
<p>Apple updates its License Agreement for the Developer Program frequently. You need to login to your <a href="https://developer.apple.com/account/">developer account</a> to manually check if there is a new agreeement to accept.  If you see a big red or orange banner across the top of your Developer Account announcing a new license agreement like shown below...please read and accept it before building Loop.</p>
<p><img alt="Screenshot: Account - Apple Developer" src="../img/license.png" /></p>
<h2 id="step-3-download-updated-loop-code">Step 3: Download Updated Loop Code<a class="headerlink" href="#step-3-download-updated-loop-code" title="Permanent link">⌁</a></h2>
<p>After you've finished the updates to your devices listed above, you can move onto downloading updated Loop code. You will not be simply using your old downloaded Loop code (and in fact, you can delete those old folder(s) now if you want).</p>
<div class="admonition info">
<p class="admonition-title">Where is the old folder?</p>
<p>It may have been almost a year since your last download and maybe you don't remember where you put the folder. You might not have followed these <a href="../step13/#store-and-name-your-download-properly">directions</a>, but it may help you to find the old folder(s).</p>
<p>It is always best to do a fresh download. Some people prefer to rename the last build folder old-Loop until the new one is working, and then delete it.</p>
</div>
<p>There is a fast and easy menu-driven script available to build Loop that works once you've updated your macOS and Xcode to versions compatible with your iPhone iOS.  It works for the latest release of master (v2.2.6). The <a href="https://www.loopandlearn.org/build-select/">Build Select Script</a> webpage has instructions on how to use the script. That script allows you to perform the rest of the steps on this page with a menu-driven interface. Before you head over there, finish reading this page so you understand all the steps that are needed. The steps are explained again over there, but not in quite so much detail.</p>
<div class="admonition info">
<p class="admonition-title">Build Select Folders</p>
<p>If you used the build select method last time, the folders will be in a slightly different place.  The build select script uses a folder in Downloads call BuildLoop.  Underneath BuildLoop there will be one or more folders with the name of the Loop branch/fork you built and a date.  For example: Downloads/BuildLoop/Loop-master-210822-2203 is the name of my folder from August 22, 2021 at 10:03 pm local time.  If I wanted to discard that download, I would delete the entire Loop-master-210822-2203 folder.</p>
</div>
<p>If you prefer the zip download method, follow the links from <a href="../step13/#download-loop">Build Step 13</a>, then return to this page.</p>
<h2 id="step-4a-delete-old-provisioning-profiles">Step 4a: Delete old provisioning profiles<a class="headerlink" href="#step-4a-delete-old-provisioning-profiles" title="Permanent link">⌁</a></h2>
<h3 id="infrequent-builder-app-expires-soon">Infrequent Builder, App Expires soon<a class="headerlink" href="#infrequent-builder-app-expires-soon" title="Permanent link">⌁</a></h3>
<p>If your app will expire soon or you build infrequently, then <a href="./#delete-profiles">Delete Profiles</a>. Not sure when your app expires? Here are instructions to check your <a href="https://www.loopandlearn.org/loop-expiration-date/">Loop Expiration Date</a>.</p>
<h3 id="frequent-builder">Frequent Builder<a class="headerlink" href="#frequent-builder" title="Permanent link">⌁</a></h3>
<p>If you build frequently, you do not need to delete the profiles every time. One user reported deleting profiles gave a <a href="./#revoke-certificate-issue">Revoke Certificate</a> message - follow the link to see other reasons why that might happen.</p>
<h3 id="background-information">Background Information<a class="headerlink" href="#background-information" title="Permanent link">⌁</a></h3>
<p>Older versions of Xcode used to automatically create a new "provisioning profile" as part of the Loop building process. That provisioning profile, among other things, sets the expiration date for your app. If you sign with a paid team, that profile is set to expire in 12 months. If you sign with a free team, that profile is set to expire in 7 days.</p>
<p>You can always check the expiration date immediately after a successful build of your loop app by clicking the little "i" icon next the "Provisioning Profile" line in the target signing area. Add 12 months to the "created" date (paid account), or 7 days (free account), and you'll have your app's date of future spontaneous death, which you can record in your calendar.</p>
<p align="center"><img alt="Screenshot: Xcode showing Provisioning Profile" src="../img/provisioning-profile-date.png" width="850" /></p>
<p>Here's what started happening about September 2019 with Xcode 11, the provisioning profiles were being reused so the date was not updated each time you built. This change resulted in many people's apps expiring unexpectedly (and therefore dying suddenly) starting in September 2020 despite having updated/rebuilt recently and having current developer accounts (either manually renewed or automatically renewed, doesn't matter).</p>
<p>Once you follow the steps in the orange box below, Xcode will have no memory of the old provisioning profiles and will be forced to create a brand new one with the next Loop build. Therefore, you'll get a brand spanking new "created" date that will match the build date.  Simple and straight-forward. (Leave Terminal app open to do Step 4b afterwards too.)</p>
<h3 id="delete-profiles">Delete Profiles<a class="headerlink" href="#delete-profiles" title="Permanent link">⌁</a></h3>
<div class="admonition warning">
<p class="admonition-title">How to delete old provisioning profiles</p>
<ul>
<li>Find your Terminal app (search in Applications)</li>
<li>Open your Terminal app</li>
<li>Copy and paste the line in the little grey box below into the Terminal prompt. Press enter after you paste it.</li>
</ul>
<p><code>rm ~/Library/MobileDevice/Provisioning\ Profiles/*.mobileprovision</code>
</br></br>You won't see anything special after you enter the command...your Terminal screen should look as boring as shown below when successful.</p>
<p>Note - you are deleting provisioning profiles on your computer to force Xcode to generate new ones with your next build.  This does not affect the provisioning profiles currently on your phone.</p>
<p align="center"><img alt="Screenshot: terminal after provisioning profile deletion" src="../img/empty-profiles.png" width="650" /></p>
</div>
<h3 id="revoke-certificate-issue">Revoke Certificate Issue<a class="headerlink" href="#revoke-certificate-issue" title="Permanent link">⌁</a></h3>
<p>What does it look like if you run into the Revoke Certificate message? When you prepare to Sign the Targets with Xcode, you'll see the message highlighted in the figure below.  </p>
<p align="center"><br/>
<img alt="Screenshot: Xcode showing Revoke Certificate message" src="../img/rejected-cert.svg" width="850" /></p>
<p>More information is shown in the orange box below.</p>
<div class="admonition warning">
<p class="admonition-title">Revoke certificate</p>
<p>The important part of this message is:</p>
<ul>
<li>". . . signing certificate . . . private key is not installed in your keychain . . ."</li>
</ul>
<p><strong>WAIT - You might not need to revoke your certificate</strong></p>
<ol>
<li>You might get this if you logged in as a different user, have a new computer or if your computer had to undergo a factory reset<ul>
<li>You can transfer your keychain to your new computer (or just revoke and keep going)</li>
<li>To transfer your keychain, check this <a href="https://help.apple.com/xcode/mac/current/#/dev8a2822e0b">Apple Documentation Link</a></li>
</ul>
</li>
<li>Your version of Xcode is way out-of-date<ul>
<li>Mentors have seen this with people trying to build with Xcode 11.4 or earlier</li>
<li>Update <a href="../step8/">Xcode</a> to the most recent version</li>
</ul>
</li>
</ol>
<p><strong>If you revoke and keep going:</strong></p>
<ul>
<li>If you do hit Revoke Certificate, you'll be given a new one</li>
<li>Even with the new certificate, your Apple Developer ID is not affected</li>
<li>You can re-build on the existing Loop app on your device(s) and maintain all your settings with the new certificate.</li>
</ul>
<p>Be aware that you will have to rebuild to every device that used the certificate you just revoked and if you have other apps built with this certificate, they will stop working too.</p>
</div>
<h2 id="step-4b-clean-cache-and-derived-data">Step 4b: Clean cache and derived data<a class="headerlink" href="#step-4b-clean-cache-and-derived-data" title="Permanent link">⌁</a></h2>
<p>This may not be necessary, but it is one of the first steps to try if you do get a build error. Since you already have Terminal app open, you can prevent one of the possible sources of build errors in advance by cleaning out straggler data from previous Loop builds.</p>
<div class="admonition green">
<p class="admonition-title">Clean cache and derived data</p>
<p>Using Terminal app that should still be open from Step 4a</p>
<ol>
<li>Copy and paste this command and press return: <code>rm -rf ~/Library/Caches/org.carthage.CarthageKit</code> Note: you won't see any message back if the command runs successfully.</br></br></li>
<li>Copy and paste this command and press return: <code>rm -rf ~/Library/Developer/Xcode/DerivedData</code> Note: you won't see any message back if the command runs successfully.
</br></br>You won't see anything special after you enter the commands...your Terminal screen should look as boring as it did in the previous step 4a.</li>
</ol>
<p align="center"><img alt="Screenshot: terminal after clean cache and derived data" src="../img/cleaned-terminal.png" width="650" /></p>
</div>
<h2 id="step-5-build-like-normal">Step 5: Build like normal<a class="headerlink" href="#step-5-build-like-normal" title="Permanent link">⌁</a></h2>
<p>From here, go straight to <a href="../step14/">Step 14 Build Loop app</a> and do just like you did the first time. Open the new Loop code that you just downloaded a couple steps above, plug in the phone, select your phone, sign four targets, code customizations (if wanted), and then build button. Easy peasy.</p>
<div class="admonition danger">
<p class="admonition-title">Add a Calendar Reminder</p>
<ul>
<li>It is good practice to add a reminder to your calendar when the app will expire (7 days or 1 year).</li>
<li>Be sure to add an alert to that reminder so you have enough time to do all the <a href="./">Loop Updating</a> steps to build the app again before it expires</li>
</ul>
</div>
<div class="admonition info">
<p class="admonition-title">Double check expiration date</p>
<p>If you want to make sure that step 4 above (deleting the provisioning profiles) went well, check the "created" date on your provisioning profile after you sign your Loop target for this rebuild. It should have the current date as the "created" date and your Loop app, if you successfully build, will function for 12 more months (for paid accounts) so long as you keep your developer account paid/automatically renewed.</p>
<p>To find out expiration date later, read <a href="../../operation/features/notifications/#loop-app-expiration-date">Loop App Expiration Date</a>.</p>
</div>
<h2 id="step-6-resolve-build-errors-if-needed">Step 6: Resolve Build Errors if needed<a class="headerlink" href="#step-6-resolve-build-errors-if-needed" title="Permanent link">⌁</a></h2>
<div class="admonition green">
<p class="admonition-title">Check Build Errors Page</p>
<p>If you get a build error, check the <a href="../build_errors/">Build Errors page</a>. You might be able to resolve it yourself.</p>
<p>Even if your exact error isn't there, the information you need to provide when asking for help is listed on that page. And that information is critical to allow mentors to help troubleshoot your build error.</p>
</div></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
